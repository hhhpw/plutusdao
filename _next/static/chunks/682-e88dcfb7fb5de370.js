"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[682],{92433:function(e,t,n){n.d(t,{$:function(){return x},d:function(){return h}});var a=n(34051),r=n.n(a),s=n(2593),i=n(67294),u=n(8824),p=n(23903),o=n(11510),l=n(15492),y=n(51505),d=n(75104),m=n(35420),c=n(18837);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e,t,n,a,r,s,i){try{var u=e[s](i),p=u.value}catch(o){return void n(o)}u.done?t(p):Promise.resolve(p).then(a,r)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){T(e,t,n[t])}))}return e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(p){u=!0,r=p}finally{try{i||null==n.return||n.return()}finally{if(u)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(e){if("plvGLP"===e)return{name:"plvGLP",rewardsAddress:"0x4E5Cf54FdE5E1237e80E87fcbA555d829e1307CE",rewardsAbi:p,farmTokenAddress:"0x5326E71Ff593Ecc2CF7AcaE5Fe57582D6e74CFF1",farmTokenABI:y,rewardsToken:"PLS"};throw new Error("Unknown farm: ".concat(e))},x=function(e,t){var n=(0,i.useState)("idle"),a=n[0],p=(n[1],(0,i.useState)("")),y=p[0],f=(p[1],(0,i.useState)({allowance:s.O$.from(0),deposited:s.O$.from(0),pendingRewards:s.O$.from(0),balanceInWallet:s.O$.from(0),plsTokenPrice:0,apr:0,tvl:0})),T=f[0],x=f[1],A=(0,c.hH)(),k=(0,l.dd)(),M=(0,m.a)(e).data,_=M.tvl,O=M.apr,S=function(){var n,a=(n=r().mark((function n(){var a,s,i,u,p,o,l,y,m,c,f;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==A.data){n.next=2;break}return n.abrupt("return");case 2:return a=h(e),s=new d.CH(a.rewardsAddress,a.rewardsAbi),i=new d.CH(a.farmTokenAddress,a.farmTokenABI),u=[i.allowance(t,s.address),i.balanceOf(t),s.pendingRewards(t),s.userInfo(t)],n.t0=w,n.next=9,k.all(u);case 9:n.t1=n.sent,p=(0,n.t0)(n.t1,4),o=p[0],l=p[1],y=p[2],m=w(p[3],1),c=m[0],f=A.data,x(v({},T,{allowance:o,deposited:c,pendingRewards:y,balanceInWallet:l,plsTokenPrice:f}));case 18:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,r){var s=n.apply(e,t);function i(e){b(s,a,r,i,u,"next",e)}function u(e){b(s,a,r,i,u,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}();return(0,u.Z)((function(){if(null!==t&&"success"===A.status)try{S()}catch(e){(0,o.S)(e,"usePlutusChefFarmTVL hook error:")}}),[t,A.status]),(0,i.useEffect)((function(){x((function(e){return v({},e,{tvl:_,apr:O})}))}),[_,O]),{status:a,data:T,fetchSingleStakingData:S,tokenAddr:y}}},35420:function(e,t,n){n.d(t,{a:function(){return T}});var a=n(34051),r=n.n(a),s=n(2593),i=n(56371),u=n(67294),p=n(15492),o=n(75104),l=n(45084),y=n(11510),d=n(92433),m=n(18837);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function f(e,t,n,a,r,s,i){try{var u=e[s](i),p=u.value}catch(o){return void n(o)}u.done?t(p):Promise.resolve(p).then(a,r)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(p){u=!0,r=p}finally{try{i||null==n.return||n.return()}finally{if(u)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=function(e){var t=(0,u.useState)("idle"),n=t[0],a=t[1],c=(0,d.d)(e),T=(0,p.dd)(),v=(0,m.hH)(),w=(0,u.useState)({tvl:0,apr:0,stakingBalance:s.O$.from(0),aprBreakdowns:[]}),h=w[0],x=w[1],A=function(){var e,t=(e=r().mark((function e(){var t,n,s,u,p,y,d,m,f,w,h,A,k,M,_,O,S;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==T){e.next=2;break}return e.abrupt("return");case 2:if(void 0!==v.data){e.next=4;break}return e.abrupt("return");case 4:return console.log("Start fetching: useSingleStakingFarmTVL"),t=new o.CH(c.rewardsAddress,c.rewardsAbi),n=[t.stakingToken()],e.t0=b,e.next=10,T.all(n);case 10:return e.t1=e.sent,s=(0,e.t0)(e.t1,1),u=s[0],p=new o.CH(u,c.farmTokenABI),e.t2=b,e.next=17,T.all([t.plsPerSecond(),p.totalSupply(),p.balanceOf(c.rewardsAddress)]);case 17:return e.t3=e.sent,y=(0,e.t2)(e.t3,3),d=y[0],y[1],m=y[2],f=86400*+(0,i.formatEther)(d)*365,w=v.data,e.next=26,(0,l.eV)(T);case 26:h=e.sent,A=h.glpPrice,k=h.glpApr,M=h.feePercentage,S=(_=f*w)/(O=A*m/1e18),!1===Number.isFinite(S)&&(S=_/1),x({tvl:O,apr:S+k*M,stakingBalance:m,aprBreakdowns:[{name:"PLS Emission APR",value:S},{name:"GLP APR",value:k*M}]}),a("fetched");case 38:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function i(e){f(s,a,r,i,u,"next",e)}function u(e){f(s,a,r,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){try{"success"===v.status&&A()}catch(e){(0,y.S)(e,"usePlutusChefFarmTVL hook error:")}}),[v.status]),{status:n,data:h,refreshData:A}}},78301:function(e,t,n){n.d(t,{Nb:function(){return x},_z:function(){return k},M3:function(){return M}});var a=n(34051),r=n.n(a),s=n(67294),i=n(75104),u=n(8824),p=n(15492),o=n(11510),l=n(2593),y=JSON.parse('[{"inputs":[{"internalType":"address","name":"_minter","type":"address"},{"internalType":"address","name":"_staker","type":"address"},{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_exitFeeCollector","type":"address"},{"internalType":"address","name":"_whitelist","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"BAD_FEE","type":"error"},{"inputs":[],"name":"INVARIANT_VIOLATION","type":"error"},{"inputs":[],"name":"UNAUTHORIZED","type":"error"},{"inputs":[],"name":"UNDER_MIN_AMOUNT","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_user","type":"address"},{"indexed":false,"internalType":"uint256","name":"_assets","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_shares","type":"uint256"}],"name":"Deposited","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_new","type":"address"},{"indexed":false,"internalType":"address","name":"_old","type":"address"}],"name":"FeeCollectorUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_vaultRebate","type":"uint256"}],"name":"FeeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_blockNumber","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_fsGLPSupply","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_plsGLPSupply","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_plvGLPSupply","type":"uint256"}],"name":"InvariantsViolated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_partner","type":"address"},{"indexed":false,"internalType":"uint32","name":"_exitFee","type":"uint32"},{"indexed":false,"internalType":"uint32","name":"_rebate","type":"uint32"},{"indexed":false,"internalType":"bool","name":"_isActive","type":"bool"}],"name":"PartnerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_new","type":"address"},{"indexed":false,"internalType":"address","name":"_old","type":"address"}],"name":"WhitelistUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_user","type":"address"},{"indexed":false,"internalType":"uint256","name":"_shares","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_assetsLessFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_vaultRebate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"Withdrawed","type":"event"},{"inputs":[],"name":"defaultExitFee","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"defaultVaultRebate","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"depositAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_assets","type":"uint256"}],"name":"donate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"fsGLP","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"getFeeBp","outputs":[{"internalType":"uint256","name":"_exitFee","type":"uint256"},{"internalType":"uint256","name":"_rebate","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minter","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"},{"internalType":"uint256","name":"_shares","type":"uint256"}],"name":"previewRedeem","outputs":[{"internalType":"uint256","name":"_exitFeeLessRebate","type":"uint256"},{"internalType":"uint256","name":"_rebateAmount","type":"uint256"},{"internalType":"uint256","name":"_assetsLessFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"redeem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"redeemAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"}],"name":"retrieve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sGLP","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint32","name":"_newFee","type":"uint32"},{"internalType":"uint32","name":"_vaultRebate","type":"uint32"}],"name":"setExitFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newFeeCollector","type":"address"}],"name":"setFeeCollector","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_pauseContract","type":"bool"}],"name":"setPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_whitelist","type":"address"}],"name":"setWhitelist","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"staker","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_partnerAddr","type":"address"},{"internalType":"uint32","name":"_exitFee","type":"uint32"},{"internalType":"uint32","name":"_rebate","type":"uint32"},{"internalType":"bool","name":"_isActive","type":"bool"}],"name":"updatePartner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"whitelist","outputs":[{"internalType":"contract IWhitelist","name":"","type":"address"}],"stateMutability":"view","type":"function"}]'),d=n(51505),m=JSON.parse('[{"inputs":[{"internalType":"address","name":"plsGLP","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"NOT_ENABLED","type":"error"},{"inputs":[],"name":"SUPPLY_CAP_EXCEEDED","type":"error"},{"inputs":[],"name":"UNAUTHORIZED","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"assets","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"shares","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_new","type":"address"},{"indexed":true,"internalType":"address","name":"_old","type":"address"}],"name":"OperatorUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newCap","type":"uint256"}],"name":"SupplyCapUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"canMint","type":"bool"},{"indexed":false,"internalType":"bool","name":"canWithdraw","type":"bool"},{"indexed":false,"internalType":"bool","name":"canRedeem","type":"bool"},{"indexed":false,"internalType":"bool","name":"canDeposit","type":"bool"}],"name":"VaultParametersUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"receiver","type":"address"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"assets","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"shares","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"asset","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"}],"name":"convertToAssets","outputs":[{"internalType":"uint256","name":"assets","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"}],"name":"convertToShares","outputs":[{"internalType":"uint256","name":"shares","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"deposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"maxDeposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"maxMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"maxRedeem","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"maxWithdraw","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"mint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"}],"name":"previewDeposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"}],"name":"previewMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"}],"name":"previewRedeem","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"}],"name":"previewWithdraw","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"redeem","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newOperator","type":"address"}],"name":"setOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_canMint","type":"bool"},{"internalType":"bool","name":"_canWithdraw","type":"bool"},{"internalType":"bool","name":"_canRedeem","type":"bool"},{"internalType":"bool","name":"_canDeposit","type":"bool"}],"name":"setParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newSupplyCap","type":"uint256"}],"name":"setSupplyCap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"supplyCap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAssets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"vaultParams","outputs":[{"internalType":"bool","name":"canMint","type":"bool"},{"internalType":"bool","name":"canWithdraw","type":"bool"},{"internalType":"bool","name":"canRedeem","type":"bool"},{"internalType":"bool","name":"canDeposit","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"withdraw","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"}]'),c=n(93055);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e,t,n,a,r,s,i){try{var u=e[s](i),p=u.value}catch(o){return void n(o)}u.done?t(p):Promise.resolve(p).then(a,r)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function i(e){b(s,a,r,i,u,"next",e)}function u(e){b(s,a,r,i,u,"throw",e)}i(void 0)}))}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){v(e,t,n[t])}))}return e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(p){u=!0,r=p}finally{try{i||null==n.return||n.return()}finally{if(u)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=function(e){if("plvGLP"===e)return{depositorAddress:"0x13F0D29b5B83654A200E4540066713d50547606E",depositorAbi:y,assetTokenAddress:"0x2F546AD4eDD93B956C8999Be404cdCAFde3E89AE",assetTokenBalanceEnquiryAddress:"0x1addd80e6039594ee970e5872d247bf0414c8903",assetTokenBalanceEnquiryAddressAbi:d,assetTokenAbi:d,sharesTokenAddress:"0x5326E71Ff593Ecc2CF7AcaE5Fe57582D6e74CFF1",sharesTokenAbi:m,stakerAddress:"0xbec7635c7A475CbE081698ea110eF411e40f8dd9",stakerAbi:c};throw new Error("Unknown")},A=function(e,t){var n=e/100/100;return{exitFee:n,rebateFee:t/100/100*n}},k=function(e,t){var n=(0,s.useState)("idle"),a=n[0],y=n[1],d=(0,s.useState)({apr:0,exitFee:.02,rebateFee:.005,assetTokenBalance:l.O$.from(0),sharesTokenBalance:l.O$.from(0),assetTokenAllowanceFromDepositor:l.O$.from(0),sharesTokenAllowanceFromDepositor:l.O$.from(0),sharesTokenTotalSupply:l.O$.from(0),sharesTokenSupplyCap:l.O$.from(0),sharesToAssetRatio:1}),m=d[0],c=d[1],f=(0,p.dd)(),b=x(e),v=new i.CH(b.depositorAddress,b.depositorAbi),k=new i.CH(b.assetTokenAddress,b.assetTokenAbi),M=new i.CH(b.assetTokenBalanceEnquiryAddress,b.assetTokenBalanceEnquiryAddressAbi),_=new i.CH(b.sharesTokenAddress,b.sharesTokenAbi),O=function(){var e=T(r().mark((function e(){var n,a,s,i,u,p,o,l,d,m,b,T,x,O,S,F,g,E,C,P,D,R,I,L,B,U;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Start fetching: useVault"),y("fetching"),!t){e.next=23;break}return n=[v.defaultExitFee(),v.defaultVaultRebate(),M.balanceOf(t),_.balanceOf(t),k.allowance(t,v.address),_.allowance(t,v.address),_.totalSupply(),_.supplyCap(),_.totalAssets()],e.t0=h,e.next=7,f.all(n);case 7:e.t1=e.sent,a=(0,e.t0)(e.t1,9),s=a[0],i=a[1],u=a[2],p=a[3],o=a[4],l=a[5],d=a[6],m=a[7],b=a[8],T=b/d,x=A(s,i),O=x.rebateFee,S=x.exitFee,c((function(e){return w({},e,{exitFee:S,rebateFee:O,assetTokenBalance:u,sharesTokenBalance:p,assetTokenAllowanceFromDepositor:o,sharesTokenAllowanceFromDepositor:l,sharesTokenTotalSupply:d,sharesTokenSupplyCap:m,sharesToAssetRatio:T})})),e.next=37;break;case 23:return F=[v.defaultExitFee(),v.defaultVaultRebate(),_.totalSupply(),_.supplyCap(),_.totalAssets()],e.t2=h,e.next=27,f.all(F);case 27:e.t3=e.sent,g=(0,e.t2)(e.t3,5),E=g[0],C=g[1],P=g[2],D=g[3],R=g[4],I=R/P,L=A(E,C),B=L.rebateFee,U=L.exitFee,c((function(e){return w({},e,{exitFee:U,rebateFee:B,sharesTokenTotalSupply:P,sharesTokenSupplyCap:D,sharesToAssetRatio:I})}));case 37:y("fetched");case 38:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.Z)((function(){try{O()}catch(e){(0,o.S)(e,"useFetchVault hook error:")}}),[t]),{status:a,data:m,refreshData:O}},M=function(e,t){var n=(0,s.useState)("idle"),a=n[0],u=(n[1],(0,s.useState)({previewDeposit:l.O$.from(0),previewRedeem:l.O$.from(0)})),o=u[0],y=u[1],d=(0,p.dd)(),m=x(e),c=new i.CH(m.depositorAddress,m.depositorAbi),f=(new i.CH(m.assetTokenAddress,m.assetTokenAbi),new i.CH(m.sharesTokenAddress,m.sharesTokenAbi)),b=(0,s.useCallback)(function(){var e=T(r().mark((function e(n,a){var s,i,u,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==d){e.next=2;break}return e.abrupt("return");case 2:if(null!==t){e.next=4;break}return e.abrupt("return");case 4:return s=[f.previewDeposit(a),c.previewRedeem(t,a)],e.t0=h,e.next=8,d.all(s);case 8:e.t1=e.sent,i=(0,e.t0)(e.t1,2),u=i[0],p=i[1],y(w({},o,"deposit"===n?{previewDeposit:u}:{previewRedeem:p._assetsLessFee}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[d,t]);return{status:a,data:o,fetchPreview:b}}}}]);